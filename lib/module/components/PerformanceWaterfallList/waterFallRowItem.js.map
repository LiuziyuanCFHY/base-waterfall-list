{"version":3,"names":["React","useCallback","useMemo","View","style","WaterFallItem","get414Px","SCREEN_WIDTH","rem","WaterFallRowItem","item","cusTomRowStyle","numColumns","onLayout","renderItem","marginLeft","marginRight","cellTopMargin","cellInnerMargin","waterStyle","rowStyle","rowH","height","undefined","itemW","dividerStyle","diverStyle","render","data","rowData","map","rowItemData","offsetTop","columnIndex","index","itemH","opacity","createElement","key","rowIndex","Fragment","row","memo"],"sources":["waterFallRowItem.tsx"],"sourcesContent":["import React, { useCallback, useMemo } from 'react';\nimport { ItemData } from './type';\nimport { View } from 'react-native';\nimport { style } from './style';\nimport WaterFallItem from './waterFallItem';\nimport { get414Px, SCREEN_WIDTH, rem } from '../../utils/designBase414';\n\nfunction WaterFallRowItem({\n    item,\n    cusTomRowStyle,\n    numColumns,\n    onLayout,\n    renderItem,\n    marginLeft = 16,\n    marginRight = 16,\n    cellTopMargin = 10,\n    cellInnerMargin = 8,\n}) {\n    const waterStyle = useMemo(() => {\n        return [\n            style.rowStyle,\n            ...(cusTomRowStyle ? [cusTomRowStyle] : []),\n            (item.rowH || 0) > 0\n                ? {\n                      height: get414Px(item.rowH) || 0,\n                  }\n                : undefined,\n        ];\n    }, [item.rowH, cusTomRowStyle]);\n    const itemW = useMemo(() => {\n        return (\n            (SCREEN_WIDTH -\n                rem(\n                    marginLeft +\n                        marginRight +\n                        (numColumns - 1) * cellInnerMargin,\n                )) /\n            numColumns\n        );\n    }, [numColumns, marginLeft, marginRight, cellInnerMargin]);\n    const dividerStyle = useMemo(() => {\n        return {\n            ...style.diverStyle,\n            height: rem(cellTopMargin),\n        };\n    }, [cellTopMargin]);\n    const render = useCallback(\n        (data) => {\n            return data.rowData.map((rowItemData: ItemData) => {\n                const { offsetTop, columnIndex, index, itemH } = rowItemData;\n                const opacity = itemH ? 1 : 0;\n                return (\n                    <WaterFallItem\n                        item={data}\n                        key={data.rowIndex + '_' + index}\n                        index={index}\n                        columnIndex={columnIndex}\n                        itemW={itemW}\n                        offsetTop={offsetTop}\n                        opacity={opacity}\n                        onLayout={onLayout}\n                        marginLeft={marginLeft}\n                        cellInnerMargin={cellInnerMargin}\n                    >\n                        <>\n                            {renderItem({\n                                item: rowItemData,\n                                index,\n                                row: data,\n                            })}\n                            <View style={dividerStyle} />\n                        </>\n                    </WaterFallItem>\n                );\n            });\n        },\n        [\n            cellInnerMargin,\n            dividerStyle,\n            itemW,\n            marginLeft,\n            onLayout,\n            renderItem,\n        ],\n    );\n    return <View style={waterStyle}>{render(item)}</View>;\n}\n\nexport default React.memo(WaterFallRowItem);\n"],"mappings":"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","ignoreList":[]}