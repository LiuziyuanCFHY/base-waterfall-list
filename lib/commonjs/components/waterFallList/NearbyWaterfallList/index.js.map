{"version":3,"names":["_react","_interopRequireWildcard","require","_reactNative","_NearbyService","_bottom","_interopRequireDefault","_designBase","_model","_EStyleUtil","_bizComponent","_cardContainer","_utils","_footer","_fallbackcomponents","_PerformanceWaterfallList","_feedCommonGoodsCard","_FeedWeeklyPromotionCard","e","__esModule","default","_getRequireWildcardCache","WeakMap","r","t","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","styles","EStyleUtil","create","footer","height","alignItems","footerText","marginTop","fontSize","fontWeight","lineHeight","container","paddingBottom","paddingTop","paddingHorizontal","title","marginBottom","color","getThemeColor","goodsBottomContainer","marginLeft","NearbyWaterfallList","exports","memo","props","_ref","_ref2","fetchParams","fetchType","onFeedWeeklyItemShow","onFeedWeeklyPress","onItemShow","onItemClick","cardWidth","SCREEN_WIDTH","containerStyle","titleStyle","cardTitle","onEndReachedThreshold","ListFooterComponent","isShowEmpty","setEmpty","onClickMore","onShowClickMore","setIsError","onItemHide","marginRight","cellTopMargin","cellInnerMargin","nearbyFeedsist","setNearbyFeedsist","useState","requestCount","setRequestCount","isEmpty","setIsEmpty","nextFetch","setNextFetch","oldListLength","setOldListLength","reportShowLogs","setReportShowLogs","handleViewableChanged","useCallback","viewToken","rowData","item","viewTokenIndex","index","forEach","data","columnIndex","itemData","feedItemIndex","isViewable","realIndex","push","Set","handleSetNearbyFeedsList","oldLength","IFetchType","ClickMore","length","newData","slice","setTimeout","useEffect","PullUp","handleColumnsIndex","Math","floor","key","Date","now","onViewableItemsChanged","useRef","changed","isLoading","fetchNextPage","isFetchingNextPage","hasNextPage","isRefetching","isError","useQueryNearbyGoods","pages","_pages$lastIndex","_pages$lastIndex2","nowCount","lastIndex","resultDataLenght","feedList","hasNext","loadingStatus","useMemo","noMore","handleOnPress","createElement","loading","onPress","DetailFooter","isDark","notShowSlogan","onEndReached","getFooter","renderFeedItem","_item$itemData","_item$itemData2","type","FEED_CARD_TYPE","COMMON_GOOD_CARD","FeedCommonGoodsCard","curItem","WEEKLY_CARD","_item$itemData3","View","console","log","JSON","stringify","Fragment","ShowWithData","CardContainer","Text","style","PerformanceWaterfallList","renderItem","current","footerStyles","StaticLoading","_default"],"sources":["index.tsx"],"sourcesContent":["import React, {\n  memo,\n  useCallback,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from \"react\";\nimport { Text, View, ViewStyle, ViewToken } from \"react-native\";\nimport { useQueryNearbyGoods } from \"../../../service/NearbyService\";\nimport GoodsBottom from \"../../bottom\";\nimport { SCREEN_WIDTH } from \"@locallife/design-base\";\nimport {\n  FEED_CARD_TYPE,\n  FeedModel,\n  IFetchType,\n  IUseQueryNearbyGoodsParams,\n} from \"../model\";\nimport { EStyleUtil } from \"../../../utils/EStyleUtil\";\nimport { ShowWithData } from \"@locallife/biz-component\";\nimport { CardContainer } from \"../../cardContainer\";\nimport { getThemeColor, jsonStringify } from \"@locallife/utils\";\nimport { WeeklyPromotionModel } from \"../FeedWeeklyPromotionCard/Model/WeeklyPromotionModel\";\nimport { DetailFooter, footerStyles } from \"./footer\";\nimport { StaticLoading } from \"@locallife/fallbackcomponents\";\nimport { PerformanceWaterfallList } from \"../../PerformanceWaterfallList\";\nimport { FeedCommonGoodsCard } from \"../../waterFallList/feedCommonGoodsCard\";\nimport FeedWeeklyPromotionCard from \"../../waterFallList/FeedWeeklyPromotionCard\";\n\nconst styles = EStyleUtil.create({\n  footer: {\n    height: 80,\n    alignItems: \"center\",\n  },\n  footerText: {\n    marginTop: 16,\n    fontSize: 12,\n    fontWeight: \"400\",\n    lineHeight: 16,\n  },\n  container: {\n    paddingBottom: 16,\n    paddingTop: 12,\n    paddingHorizontal: 0,\n  },\n  title: {\n    fontSize: 16,\n    marginBottom: 12,\n    fontWeight: \"bold\",\n    color: () => getThemeColor(\"cs_common_text_title\"),\n  },\n  goodsBottomContainer: {\n    marginTop: 8,\n    marginBottom: 0,\n    marginLeft: 3,\n  },\n});\n\ninterface IProps {\n  fetchType: IFetchType;\n  fetchParams: IUseQueryNearbyGoodsParams;\n  // tableProps\n  onFeedWeeklyItemShow?: (\n    item: WeeklyPromotionModel,\n    index: number,\n    feedItemIndex: number\n  ) => void;\n  onFeedWeeklyPress?: (\n    item: WeeklyPromotionModel,\n    index: number,\n    feedItemIndex: number\n  ) => void;\n  onItemShow?: (item: FeedModel, index: number) => void;\n  onItemHide?: (item: FeedModel, index: number) => void;\n  onItemClick?: (item: any, index: number) => void;\n  cardWidth?: number;\n  containerStyle?: ViewStyle;\n  cardTitle?: string;\n  titleStyle?: ViewStyle;\n  onEndReachedThreshold?: number;\n  ListFooterComponent?: ({\n    hasNextPage,\n    isLoading,\n    isFetchingNextPage,\n    isRefetching,\n  }: {\n    hasNextPage: boolean | undefined;\n    isLoading: boolean;\n    isFetchingNextPage: boolean;\n    isRefetching: boolean;\n  }) => React.ReactElement | null;\n  isShowEmpty?: boolean;\n  setEmpty?: (isEmpty: boolean) => void;\n  onClickMore?: () => void;\n  onShowClickMore?: () => void;\n  setIsError?: (boolean, data: any[]) => void;\n  marginLeft?: number;\n  marginRight?: number;\n  cellTopMargin?: number;\n  cellInnerMargin?: number;\n}\n\nconst NearbyWaterfallList = memo((props: IProps) => {\n  const {\n    fetchParams,\n    fetchType,\n    onFeedWeeklyItemShow,\n    onFeedWeeklyPress,\n    onItemShow,\n    onItemClick,\n    cardWidth = SCREEN_WIDTH / 2,\n    containerStyle,\n    titleStyle,\n    cardTitle,\n    onEndReachedThreshold = 0.2,\n    ListFooterComponent = null,\n    isShowEmpty,\n    setEmpty,\n    onClickMore,\n    onShowClickMore,\n    setIsError,\n    onItemHide,\n    marginLeft,\n    marginRight,\n    cellTopMargin,\n    cellInnerMargin,\n  } = props;\n\n  const [nearbyFeedsist, setNearbyFeedsist] = useState<any[]>([]);\n  const [requestCount, setRequestCount] = useState<number>(0);\n  const [isEmpty, setIsEmpty] = useState<boolean>(false);\n  const [nextFetch, setNextFetch] = useState<boolean>(false);\n  const [oldListLength, setOldListLength] = useState<number>(0);\n  const [reportShowLogs, setReportShowLogs] = useState<number[]>([]);\n\n  const handleViewableChanged = useCallback(\n    (viewToken: ViewToken) => {\n      const { rowData } = viewToken.item;\n      const viewTokenIndex = viewToken.index || 0; // 行数\n      rowData.forEach((data) => {\n        const { columnIndex, itemData } = data;\n        const feedItemIndex =\n          columnIndex === 0 ? viewTokenIndex * 2 : viewTokenIndex * 2 + 1;\n        if (viewToken.isViewable) {\n          onItemShow?.(\n            { ...itemData, realIndex: feedItemIndex },\n            feedItemIndex\n          );\n          reportShowLogs.push(feedItemIndex);\n          setReportShowLogs([...new Set(reportShowLogs)]);\n        } else {\n          onItemHide?.(\n            { ...itemData, realIndex: feedItemIndex },\n            feedItemIndex\n          );\n        }\n      });\n    },\n    [onItemShow, onItemHide, reportShowLogs]\n  );\n\n  const handleSetNearbyFeedsList = useCallback(\n    (data, oldLength) => {\n      if (fetchType === IFetchType.ClickMore && data?.length % 2 === 1) {\n        const newData = data?.slice(0, -1);\n        setNearbyFeedsist([...newData]);\n        return;\n      }\n      setNearbyFeedsist([...data]);\n      setTimeout(() => {\n        setOldListLength(oldLength);\n      }, 20);\n    },\n    [setNearbyFeedsist, fetchType]\n  );\n\n  useEffect(() => {\n    if (oldListLength % 2 === 1 && fetchType === IFetchType.PullUp) {\n      const handleColumnsIndex = Math.floor(oldListLength / 2);\n      handleViewableChanged({\n        key: \"___key\" + Date.now(),\n        isViewable: true,\n        index: handleColumnsIndex,\n        item: {\n          rowData: [\n            {\n              columnIndex: 0,\n              itemData: nearbyFeedsist?.[handleColumnsIndex * 2],\n            },\n            {\n              columnIndex: 1,\n              itemData: nearbyFeedsist?.[handleColumnsIndex * 2 + 1],\n            },\n          ],\n        },\n      });\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [oldListLength, nearbyFeedsist, fetchType]);\n\n  const onViewableItemsChanged = useRef(\n    ({ changed }: { changed: Array<ViewToken> }) => {\n      changed.forEach((viewToken) => {\n        handleViewableChanged(viewToken);\n      });\n    }\n  );\n\n  const {\n    isLoading,\n    fetchNextPage,\n    isFetchingNextPage,\n    hasNextPage,\n    isRefetching,\n    isError,\n  } = useQueryNearbyGoods(\n    fetchParams,\n    (pages) => {\n      const nowCount = requestCount + 1;\n      setRequestCount(nowCount);\n      const lastIndex = pages?.length - 1;\n      const resultDataLenght = pages[lastIndex]?.data?.feedList?.length;\n      const hasNext = pages[lastIndex]?.data?.hasNext;\n      if (nowCount === 1 && !resultDataLenght && !nextFetch) {\n        if (hasNext) {\n          setNextFetch(true);\n          fetchNextPage();\n        } else {\n          setIsEmpty(true);\n          setEmpty?.(true);\n        }\n      } else if (nowCount === 2 && !resultDataLenght && nextFetch) {\n        setIsEmpty(true);\n        setEmpty?.(true);\n      }\n    },\n    handleSetNearbyFeedsList,\n    nearbyFeedsist\n  );\n\n  useEffect(() => {\n    if (isError) {\n      // 接口报错的情况\n      setIsError?.(isError, nearbyFeedsist);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isError, nearbyFeedsist]);\n\n  const loadingStatus = useMemo(() => {\n    return isFetchingNextPage || isRefetching || isLoading;\n  }, [isFetchingNextPage, isRefetching, isLoading]);\n\n  const noMore = useMemo(() => {\n    return !hasNextPage && !isFetchingNextPage;\n  }, [hasNextPage, isFetchingNextPage]);\n\n  useEffect(() => {\n    if (!noMore && fetchType === IFetchType.ClickMore && !isEmpty) {\n      onShowClickMore?.();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [noMore, fetchType, isEmpty]);\n\n  const handleOnPress = useCallback(() => {\n    if (loadingStatus || !hasNextPage) {\n      return;\n    }\n    fetchNextPage();\n    onClickMore?.();\n  }, [loadingStatus, hasNextPage, fetchNextPage, onClickMore]);\n\n  const footer = useCallback(() => {\n    if (fetchType === IFetchType.ClickMore) {\n      return (\n        <GoodsBottom\n          loading={false}\n          noMore={noMore || isError}\n          containerStyle={styles.goodsBottomContainer}\n          onPress={handleOnPress}\n        />\n      );\n    }\n    return (\n      <DetailFooter\n        isLoading={loadingStatus}\n        noMore={noMore || isError}\n        isDark={false}\n        notShowSlogan={false}\n      />\n    );\n  }, [fetchType, noMore, isError, loadingStatus, handleOnPress]);\n  const onEndReached = useCallback(() => {\n    if (fetchType === IFetchType.PullUp) {\n      if (loadingStatus || !hasNextPage) {\n        return;\n      }\n      fetchNextPage();\n    }\n  }, [loadingStatus, hasNextPage, fetchNextPage, fetchType]);\n\n  const getFooter = useMemo(() => {\n    if (ListFooterComponent) {\n      return ListFooterComponent({\n        hasNextPage,\n        isLoading,\n        isFetchingNextPage,\n        isRefetching,\n      });\n    } else {\n      return footer();\n    }\n  }, [\n    ListFooterComponent,\n    hasNextPage,\n    isLoading,\n    isFetchingNextPage,\n    isRefetching,\n    footer,\n  ]);\n\n  const renderFeedItem = useCallback(\n    ({ item, index: feedItemIndex }) => {\n      if (item?.itemData?.type === FEED_CARD_TYPE.COMMON_GOOD_CARD) {\n        return (\n          <FeedCommonGoodsCard\n            curItem={item?.itemData}\n            index={feedItemIndex}\n            onItemClick={onItemClick}\n            cardWidth={cardWidth}\n          />\n        );\n      } else if (item?.itemData?.type === FEED_CARD_TYPE.WEEKLY_CARD) {\n        return (\n          <FeedWeeklyPromotionCard\n            data={item?.itemData?.data}\n            feedItemIndex={feedItemIndex}\n            onFeedWeeklyItemShow={onFeedWeeklyItemShow}\n            onFeedWeeklyPress={onFeedWeeklyPress}\n          />\n        );\n      } else {\n        return <View />;\n      }\n    },\n    [onItemClick, onFeedWeeklyItemShow, onFeedWeeklyPress, cardWidth]\n  );\n  console.log(\n    \"styles.title\",\n    JSON.stringify({ ...styles.title }),\n    \"titleStyle\",\n    JSON.stringify({ ...titleStyle })\n  );\n\n  return (\n    <>\n      <ShowWithData data={(nearbyFeedsist || [])?.length > 0}>\n        <CardContainer\n          containerStyle={{\n            ...styles.container,\n            ...containerStyle,\n          }}\n        >\n          {!!cardTitle && (\n            <Text\n              style={{\n                ...styles.title,\n                ...titleStyle,\n              }}\n            >\n              {cardTitle}\n              styles.title\n              {JSON.stringify({ ...styles.title })}\n              titleStyle\n              {JSON.stringify({ ...titleStyle })}\n            </Text>\n          )}\n          <PerformanceWaterfallList\n            data={nearbyFeedsist || []}\n            ListFooterComponent={getFooter}\n            onEndReachedThreshold={onEndReachedThreshold}\n            onEndReached={onEndReached}\n            renderItem={renderFeedItem}\n            onViewableItemsChanged={onViewableItemsChanged.current}\n            marginLeft={marginLeft}\n            marginRight={marginRight}\n            cellTopMargin={cellTopMargin}\n            cellInnerMargin={cellInnerMargin}\n          />\n        </CardContainer>\n      </ShowWithData>\n      {!!(\n        isShowEmpty &&\n        (isEmpty || isError) &&\n        (nearbyFeedsist || [])?.length === 0\n      ) && (\n        <View style={footerStyles.container}>\n          <StaticLoading containerStyle={footerStyles.footer} />\n        </View>\n      )}\n    </>\n  );\n});\n\nexport default NearbyWaterfallList;\n\nexport { NearbyWaterfallList };\n"],"mappings":"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","ignoreList":[]}